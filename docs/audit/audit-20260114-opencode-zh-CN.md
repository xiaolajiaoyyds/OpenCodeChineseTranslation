# 代码审计报告

## 审计概要

| 项目 | 内容 |
|------|------|
| **审计对象** | opencode-zh-CN（翻译标识符风险检查） |
| **审计时间** | 2026-01-14 15:24:07 |
| **审计范围** | opencode-zh-CN 代码（TS/TSX/JS/JSX）与 JSON 键扫描 |
| **代码行数** | 约 133855 行 |
| **审计重点** | 翻译是否误改代码标识符、JSON 键 |
| **发现问题** | **总计 1** (Critical: 0, High: 1, Medium: 0, Low: 0, Info: 0) |

---

## Critical 级别问题 🔴

> 共发现 0 个问题

---

## High 级别问题 🟠

> 共发现 1 个问题

### [H-001] 组件导出名称被翻译，导致导入失效 ✅ 已修复
- **位置**: `packages/opencode/src/cli/cmd/tui/component/dialog-status.tsx:6,8`
- **关联**: `packages/opencode/src/cli/cmd/tui/app.tsx:15`
- **类型**: 代码缺陷 - 导出/导入不匹配
- **代码**:
  ```tsx
  // 修复前（错误）:
  export type Dialog状态Props = {}
  export function Dialog状态() {

  // 修复后（正确）:
  export type DialogStatusProps = {}
  export function DialogStatus() {
  ```
- **问题描述**: 组件导出名被翻译为 `Dialog状态`，但导入仍使用 `DialogStatus`，导致编译/运行时找不到导出。
- **影响**: TUI 状态弹窗无法渲染，可能直接导致构建失败或运行异常。
- **修复状态**: ✅ 已修复 (2026-01-14)
  - `DialogStatus` / `DialogStatusProps` 标识符已恢复
  - 导出/导入匹配验证通过
  - 残留检查：未发现 `Dialog状态` 引用

---

## Medium 级别问题 🟡

> 共发现 0 个问题

---

## Low 级别问题 🟢

> 共发现 0 个问题

---

## Info 级别建议 🔵

> 共发现 0 个建议

---

## 统计汇总

| 严重程度 | 发现数 | 已修复 | 占比 | 优先级 |
|----------|------|------|------|--------|
| Critical 🔴 | 0 | 0 | 0% | P0 - 立即修复 |
| High 🟠 | 1 | 1 | 100% | P1 - 尽快修复 |
| Medium 🟡 | 0 | 0 | 0% | P2 - 建议修复 |
| Low 🟢 | 0 | 0 | 0% | P3 - 逐步优化 |
| Info 🔵 | 0 | 0 | 0% | P4 - 参考优化 |
| **合计** | **1** | **1** | **100%** | - |

---

## 总体风险评级

根据发现的问题数量和严重程度，本次审计的总体风险等级为：

### **无风险** ✅ 所有问题已修复

**原风险分数**: 0 × 10 + 1 × 5 + 0 × 2 + 0 × 1 = 5 (中风险)
**当前风险分数**: 0 (无风险)

---

*报告生成时间: 2026-01-14 15:24:07*
*报告版本: v1.1*
*最后更新: 2026-01-14*
